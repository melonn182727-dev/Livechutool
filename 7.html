<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>CuTools - Kho Tools & Công cụ Dự đoán AI Tài Xỉu Chính Xác Nhất 2025</title>
    <meta name="description" content="CuTools - Nền tảng công cụ game hàng đầu Việt Nam với AI dự đoán Tài Xỉu độ chính xác cao, hỗ trợ đa nền tảng 789.club, Sun.win, LC79, B52, Hit.club. Bảo mật tuyệt đối, nạp rút nhanh chóng, hỗ trợ 24/7. Dùng thử miễn phí ngay!">
    <meta name="keywords" content="CuTools, tool tài xỉu, tool tài xỉu miễn phí, hack tài xỉu, dự đoán tài xỉu, AI tài xỉu, công cụ game, 789club, Sun.win, LC79, B52, Hit.club, nhà cái uy tín, nạp rút nhanh, game online, tool game, userscript, auto tài xỉu">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="CuTools Team">
    <meta name="language" content="vi">
    <meta name="geo.region" content="VN">
    <meta name="geo.placename" content="Vietnam">
    <link rel="canonical" href="https://cutools.xyz/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="logo.jpeg">
    <link rel="shortcut icon" href="logo.jpeg">
    <link rel="apple-touch-icon" href="logo.jpeg">
    <link rel="apple-touch-icon" sizes="180x180" href="logo.jpeg">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cutools.xyz/">
    <meta property="og:site_name" content="CuTools">
    <meta property="og:title" content="CuTools - Công cụ dự đoán tài xỉu thông minh AI 2025">
    <meta property="og:description" content="Nền tảng công cụ game hàng đầu Việt Nam với AI dự đoán Tài Xỉu độ chính xác cao, hỗ trợ đa nền tảng 789.club, Sun.win, LC79, B52, Hit.club. Bảo mật tuyệt đối, nạp rút nhanh chóng, hỗ trợ 24/7.">
    <meta property="og:image" content="https://i.ibb.co/bg7kzNML/photo-6129738584706190438-y.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="vi_VN">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://cutools.xyz/">
    <meta name="twitter:title" content="CuTools - Công cụ dự đoán tài xỉu thông minh AI 2025">
    <meta name="twitter:description" content="Nền tảng công cụ game hàng đầu Việt Nam với AI dự đoán Tài Xỉu độ chính xác cao, hỗ trợ đa nền tảng 789.club, Sun.win, LC79, B52, Hit.club. Bảo mật tuyệt đối, nạp rút nhanh chóng, hỗ trợ 24/7.">
    <meta name="twitter:image" content="https://i.ibb.co/bg7kzNML/photo-6129738584706190438-y.jpg">
    <meta name="twitter:creator" content="@CuTools">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#0ea5e9">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CuTools">
    <meta name="format-detection" content="telephone=no">
    
    <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="serve_static.php?file=style.css&v=1765238516">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Anti-DevTools Protection -->
        <script src="serve_js.php?file=anti-devtools.js&v=1765265629"></script>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "CuTools",
        "url": "https://cutools.xyz",
        "logo": {
            "@type": "ImageObject",
            "url": "https://cutools.xyz/logo-cutools.png",
            "width": 512,
            "height": 512
        },
        "description": "Nền tảng công cụ game hàng đầu Việt Nam với AI dự đoán Tài Xỉu độ chính xác cao, hỗ trợ đa nền tảng",
        "foundingDate": "2024",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "2862 Larimer St",
            "addressLocality": "Denver",
            "addressRegion": "Colorado",
            "postalCode": "80205",
            "addressCountry": "US"
        },
        "email": "info@cutools.xyz",
        "telephone": "+84382453807",
        "sameAs": [
            "https://t.me/mryanhdz",
            "https://zalo.me/0382453807"
        ],
        "contactPoint": [
            {
                "@type": "ContactPoint",
                "contactType": "Customer Support",
                "telephone": "+84382453807",
                "email": "info@cutools.xyz",
                "areaServed": "VN",
                "availableLanguage": ["vi", "Vietnamese"],
                "hoursAvailable": {
                    "@type": "OpeningHoursSpecification",
                    "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                    "opens": "00:00",
                    "closes": "23:59"
                }
            }
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "1247",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "CuTools",
        "url": "https://cutools.xyz",
        "description": "Nền tảng công cụ game và AI dự đoán Tài Xỉu hàng đầu Việt Nam",
        "inLanguage": "vi",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://cutools.xyz/?s={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "CuTools - AI Prediction Tool",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "VND",
            "priceValidUntil": "2026-12-31",
            "availability": "https://schema.org/InStock"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1247",
            "bestRating": "5",
            "worstRating": "1"
        },
        "screenshot": "https://cutools.xyz/logo-cutools.png",
        "description": "Công cụ AI dự đoán Tài Xỉu thông minh với độ chính xác cao, hỗ trợ đa nền tảng 789.club, Sun.win, LC79, B52, Hit.club",
        "featureList": [
            "AI dự đoán Tài Xỉu",
            "Hỗ trợ đa nền tảng",
            "Kho userscript miễn phí",
            "Nạp rút tự động",
            "Hỗ trợ 24/7"
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "CuTools",
        "image": "https://cutools.xyz/logo-cutools.png",
        "@id": "https://cutools.xyz",
        "url": "https://cutools.xyz",
        "telephone": "+84382453807",
        "priceRange": "Free - 199,000 VND",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "2862 Larimer St",
            "addressLocality": "Denver",
            "addressRegion": "CO",
            "postalCode": "80205",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 39.7653,
            "longitude": -104.9863
        },
        "openingHoursSpecification": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            "opens": "00:00",
            "closes": "23:59"
        }
    }
    </script>
</head>
<body>
    <canvas id="snow-canvas"></canvas>
    
        <!-- Header -->
    <header class="header-bar">
        <div style="display: flex; align-items: center; gap: 10px;">
            <button id="sidebar-toggle" class="icon-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <div id="notification-wrapper" style="position: relative;">
                <button id="notification-bell" class="icon-btn" title="Thông báo" style="position: relative;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span id="notification-badge" class="notification-badge" style="display: none;"></span>
                </button>
                <div id="notification-dropdown" class="notification-dropdown">
                    <div class="notification-dropdown-header">
                        <span>Thông báo</span>
                        <button id="mark-all-read" class="mark-all-read-btn">Đọc tất cả</button>
                    </div>
                    <div id="notification-list" class="notification-list">
                        <div class="notification-empty">Không có thông báo mới</div>
                    </div>
                </div>
            </div>
        </div>
        <a href="?page=home" style="position: absolute; left: 50%; transform: translateX(-50%); display: flex; align-items: center;">
            <img src="logo-cutools.png" alt="CuTools" class="header-logo-img" style="height: 55px; width: auto;">
        </a>
        <div style="display: flex; align-items: center; gap: 10px;">
            <button id="theme-toggle" class="icon-btn">
                <svg id="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg id="moon-icon" class="hidden" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
            <a href="?page=logout" class="icon-btn" style="color: #ef4444;" title="Đăng xuất">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
            </a>
        </div>
    </header>

    <!-- Sidebar -->
<div id="sidebar-overlay" class="sidebar-overlay"></div>
<aside id="sidebar" class="sidebar">
    <div class="sidebar-content">
        <!-- User Card -->
        <div class="user-card">
            <div class="user-avatar">
                                    <img src="profile/IMG_1595.png?t=1763815886" alt="Avatar" class="user-avatar-img">
                            </div>
            <div class="user-info">
                <div class="user-name">NGUYEN THI DAI</div>
                <div class="user-id">ID: MDULE</div>
                <div class="user-balance">0 đ</div>
            </div>
        </div>

        <!-- Menu -->
        <nav class="sidebar-menu">
            <!-- Tài Khoản -->
            <div class="menu-section">
                <div class="menu-section-title">Tài Khoản</div>
                <a href="?page=home" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span>Trang chủ</span>
                </a>
                <a href="?page=profile" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <span>Thông tin cá nhân</span>
                </a>
                <a href="?page=deposit" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                        <line x1="1" y1="10" x2="23" y2="10"></line>
                    </svg>
                    <span>Nạp tiền</span>
                </a>
                <a href="?page=buykey" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                    </svg>
                    <span>Mua Gói</span>
                </a>
                <a href="?page=keymanager" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <span>Quản lý Key</span>
                </a>
                <a href="?page=history" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span>Lịch sử</span>
                </a>
            </div>
            
            <!-- Công Cụ -->
            <div class="menu-section">
                <div class="menu-section-title">Công Cụ</div>
                <a href="?page=games" class="menu-item menu-item-vip">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                        <line x1="9" y1="9" x2="9.01" y2="9"></line>
                        <line x1="15" y1="9" x2="15.01" y2="9"></line>
                    </svg>
                    <span>Chơi game</span>
                    <span class="vip-badge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        VIP
                    </span>
                </a>
                <a href="?page=userscripts" class="menu-item menu-item-vip">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                    </svg>
                    <span>Kho Tools</span>
                    <span class="vip-badge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        VIP
                    </span>
                </a>
                <a href="?page=tool_apk" class="menu-item menu-item-vip">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path>
                        <path d="M3 9V7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v2"></path>
                        <circle cx="12" cy="13" r="2"></circle>
                    </svg>
                    <span>Tools APK</span>
                    <span class="vip-badge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        VIP
                    </span>
                </a>
                <a href="?page=tool_bot" class="menu-item menu-item-vip">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
                    </svg>
                    <span>Bot Telegram</span>
                    <span class="vip-badge">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        VIP
                    </span>
                </a>
                <a href="?page=tool_free" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                    <span>Tool Free</span>
                    <span class="free-badge" style="background: linear-gradient(135deg, #22c55e, #16a34a); color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; margin-left: auto;">FREE</span>
                </a>
            </div>

            <!-- Khuyến Mãi -->
            <div class="menu-section">
                <div class="menu-section-title">Khuyến Mãi</div>
                <a href="?page=gift_code" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 12 20 22 4 22 4 12"></polyline>
                        <rect x="2" y="7" width="20" height="5"></rect>
                        <line x1="12" y1="22" x2="12" y2="7"></line>
                        <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path>
                        <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>
                    </svg>
                    <span>Nhập Gift Code</span>
                </a>
                <a href="?page=events" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span>Sự Kiện</span>
                </a>
                <a href="?page=referral" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Giới Thiệu Bạn Bè</span>
                </a>
            </div>

            <!-- Cộng Đồng -->
            <div class="menu-section">
                <div class="menu-section-title">Cộng Đồng</div>
                <a href="?page=blog" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                    </svg>
                    <span>Tin Tức & Blog</span>
                </a>
                <a href="?page=testimonials" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <span>Đánh Giá</span>
                </a>
                <a href="?page=faq" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                    <span>FAQ</span>
                </a>
            </div>

            <!-- Hỗ Trợ -->
            <div class="menu-section">
                <div class="menu-section-title">Hỗ Trợ</div>
                <a href="?page=guide" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    <span>Hướng dẫn</span>
                </a>
                <a href="?page=support" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <span>Hỗ trợ</span>
                </a>
                <a href="https://t.me/CuTools" target="_blank" class="menu-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
                    </svg>
                    <span>Nhóm Telegram</span>
                </a>
            </div>
        </nav>
    </div>
</aside>
    
    <div class="main-container">
        
<main class="main-content">
    <div class="page-container">
        <div class="page-header">
            <h2 class="page-title">Mua gói Premium</h2>
            <p class="page-subtitle">Chọn gói phù hợp với nhu cầu của bạn</p>
        </div>

        <div class="balance-info-bar">
            <div class="balance-info-content">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                <span>Số dư hiện tại: <strong>0 đ</strong></span>
            </div>
            <a href="?page=recharge" class="btn-recharge-small">Nạp thêm</a>
        </div>

        <div class="packages-grid">
                        <div class="package-card package-tier-basic  ">
                                                
                <div class="package-header package-basic">
                    <h3 class="package-name">Gói Basic 1</h3>
                    <div class="package-duration">1 ngày</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">25.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Sử dụng All Tools Tài Xỉu                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Truy cập kho Tools                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ 24/7                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('basic1', 'Gói Basic 1', 25000, 24)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                        <div class="package-card package-tier-basic  ">
                                                
                <div class="package-header package-basic">
                    <h3 class="package-name">Gói Basic 2</h3>
                    <div class="package-duration">3 ngày</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">50.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Sử dụng All Tools Tài Xỉu                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Truy cập kho Tools                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ 24/7                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('basic2', 'Gói Basic 2', 50000, 72)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                        <div class="package-card package-tier-basic package-popular ">
                                    <div class="popular-badge">PHỔ BIẾN NHẤT</div>
                                                
                <div class="package-header package-basic">
                    <h3 class="package-name">Gói Basic 3</h3>
                    <div class="package-duration">1 tuần</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">80.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Sử dụng All Tools Tài Xỉu                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Truy cập kho Tools                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ 24/7                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('basic3', 'Gói Basic 3', 80000, 168)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                        <div class="package-card package-tier-pro  ">
                                                
                <div class="package-header package-pro">
                    <h3 class="package-name">Gói Pro 1</h3>
                    <div class="package-duration">1 tháng</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">99.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        APK Tool                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Userscript                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Chơi Game                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Bot Telegram                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ ưu tiên                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('pro1', 'Gói Pro 1', 99000, 720)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                        <div class="package-card package-tier-pro package-popular ">
                                    <div class="popular-badge">PHỔ BIẾN NHẤT</div>
                                                
                <div class="package-header package-pro">
                    <h3 class="package-name">Gói Pro 2</h3>
                    <div class="package-duration">2 tháng</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">150.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        APK Tool                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Userscript                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Chơi Game                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Bot Telegram                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ ưu tiên                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('pro2', 'Gói Pro 2', 150000, 1440)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                        <div class="package-card package-tier-promax  ">
                                                
                <div class="package-header package-promax">
                    <h3 class="package-name">Gói Pro Max</h3>
                    <div class="package-duration">Vĩnh viễn</div>
                </div>

                <div class="package-price">
                                        <span class="price-amount">250.000</span>
                                        <span class="price-currency">đ</span>
                </div>

                <ul class="package-features">
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Tất cả tính năng                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        APK Tool                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Userscript                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Bot Telegram                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Chơi Game                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Hỗ trợ VIP 24/7                    </li>
                                        <li>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Vĩnh viễn không giới hạn                    </li>
                                    </ul>

                <button class="btn-buy-package" onclick="buyPackage('promax', 'Gói Pro Max', 250000, 87600)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Mua ngay
                </button>
            </div>
                    </div>

        <div class="payment-info">
            <div class="info-card-header">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 16v-4"></path>
                    <path d="M12 8h.01"></path>
                </svg>
                <h3>Lưu ý khi mua Key</h3>
            </div>
            <ul class="info-list">
                <li>Key sẽ được kích hoạt ngay sau khi thanh toán thành công</li>
                <li>Số dư trong tài khoản phải đủ để mua gói</li>
                <li>Key chỉ có thể sử dụng cho 1 tài khoản duy nhất</li>
                <li>Không hoàn tiền sau khi đã kích hoạt Key</li>
                <li>Liên hệ hỗ trợ nếu gặp vấn đề: <a href="?page=support">tại đây</a></li>
            </ul>
        </div>
    </div>
</main>

<!-- Buy Key Modal -->
<div id="buy-key-modal" class="modal-overlay" onclick="if(event.target===this)closeBuyModal()">
    <div class="modal-content-buy">
        <div class="modal-header-buy">
            <h2 class="modal-title-buy">Xác nhận mua Key</h2>
            <button onclick="closeBuyModal()" class="modal-close-btn">✕</button>
        </div>
        
        <!-- Package Info -->
        <div class="package-info-box">
            <div style="margin-bottom: 8px;">
                <div class="info-label">Gói đã chọn</div>
                <div id="modal-package-name" class="info-value">Gói Cơ Bản 1</div>
            </div>
            <div class="price-grid">
                <div>
                    <div class="price-label">Giá gốc</div>
                    <div id="modal-price" class="price-value">25,000 đ</div>
                </div>
                <div>
                    <div class="price-label">Giảm giá</div>
                    <div id="modal-discount" class="discount-value">0 đ</div>
                </div>
            </div>
        </div>
        
        <!-- Discount Code -->
        <div class="discount-section">
            <label class="discount-label">Mã giảm giá (nếu có)</label>
            <div class="discount-input-group">
                <input id="discount-code" type="text" placeholder="Nhập mã..." class="discount-input">
                <button onclick="applyDiscountCode()" class="btn-apply-discount">Áp dụng</button>
            </div>
            <div id="discount-msg" class="discount-msg"></div>
        </div>
        
        <!-- Total Price -->
        <div class="total-box">
            <div class="total-content">
                <span class="total-label">Tổng thanh toán</span>
                <div class="total-right">
                    <div id="modal-total" class="total-amount">25,000 đ</div>
                    <div class="total-note">Sẽ được trừ từ số dư</div>
                </div>
            </div>
        </div>
        
        <!-- Balance Check -->
        <div id="balance-warning" class="balance-warning">
            ⚠️ Số dư không đủ. Vui lòng nạp thêm tiền!
        </div>
        
        <!-- Buttons -->
        <div class="modal-buttons">
            <button onclick="closeBuyModal()" class="btn-cancel">Hủy</button>
            <button id="confirm-buy-btn" onclick="confirmPurchase()" class="btn-confirm">Mua ngay</button>
        </div>
    </div>
</div>

<style>
.sale-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    font-size: 10px;
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    z-index: 2;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
}

.package-sale {
    border-color: rgba(239, 68, 68, 0.4) !important;
}

.package-price .price-original {
    font-size: 14px;
    color: #64748b;
    text-decoration: line-through;
    display: block;
    margin-bottom: 4px;
}

.package-price .price-sale {
    color: #10b981 !important;
}

.package-card {
    position: relative;
}

.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    z-index: 9999;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    padding: 16px;
}

.modal-content-buy {
    background: linear-gradient(135deg, #0f172a 0%, #1a1f3a 100%);
    border: 1px solid rgba(99,102,241,0.3);
    border-radius: 16px;
    padding: 20px;
    width: 100%;
    max-width: 450px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(99,102,241,0.3);
    animation: slideUp 0.3s ease-out;
}

.modal-header-buy {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.modal-title-buy {
    margin: 0;
    font-size: 18px;
    color: white;
}

.modal-close-btn {
    background: none;
    border: none;
    color: #94a3b8;
    cursor: pointer;
    font-size: 22px;
    padding: 0;
    width: 28px;
    height: 28px;
}

.package-info-box {
    background: rgba(99,102,241,0.1);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 14px;
    border: 1px solid rgba(99,102,241,0.2);
}

.info-label {
    font-size: 11px;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.info-value {
    font-size: 16px;
    font-weight: 700;
    color: #f1f5f9;
}

.price-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(255,255,255,0.1);
}

.price-label {
    font-size: 11px;
    color: #94a3b8;
    margin-bottom: 4px;
}

.price-value {
    font-size: 15px;
    font-weight: 700;
    color: #fbbf24;
}

.discount-value {
    font-size: 15px;
    font-weight: 700;
    color: #10b981;
}

.discount-section {
    margin-bottom: 14px;
}

.discount-label {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: #e2e8f0;
    margin-bottom: 8px;
}

.discount-input-group {
    display: flex;
    gap: 6px;
}

.discount-input {
    flex: 1;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    padding: 10px 12px;
    color: white;
    font-size: 13px;
}

.btn-apply-discount {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border: none;
    color: white;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    white-space: nowrap;
}

.discount-msg {
    margin-top: 6px;
    font-size: 11px;
    color: #94a3b8;
    display: none;
}

.total-box {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 14px;
}

.total-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.total-label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255,255,255,0.9);
}

.total-right {
    text-align: right;
}

.total-amount {
    font-size: 22px;
    font-weight: 800;
    color: white;
}

.total-note {
    font-size: 10px;
    color: rgba(255,255,255,0.8);
}

.balance-warning {
    background: rgba(239,68,68,0.1);
    border: 1px solid rgba(239,68,68,0.3);
    border-radius: 8px;
    padding: 10px;
    margin-bottom: 14px;
    color: #fca5a5;
    font-size: 12px;
    display: none;
}

.modal-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.btn-cancel {
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.2);
    color: #e2e8f0;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
}

.btn-confirm {
    background: linear-gradient(135deg, #0ea5e9, #06b6d4);
    border: none;
    color: white;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
}

@media (max-width: 480px) {
    .modal-content-buy {
        padding: 16px;
        border-radius: 12px;
    }
    
    .modal-title-buy {
        font-size: 16px;
    }
    
    .package-info-box {
        padding: 12px;
    }
    
    .info-value {
        font-size: 15px;
    }
    
    .total-amount {
        font-size: 20px;
    }
}
</style>

<script>
let currentPackage = null;
const validCodes = {
    'NEW50': { discount: 0.50, limit: 1 },
    'SAVE30': { discount: 0.30, limit: 0.2 },
    'FRIEND25': { discount: 0.25, limit: 0.5 }
};

function buyPackage(packageId, packageName, price, durationHours) {
    const balance = 0;
    currentPackage = { id: packageId, name: packageName, price: price, balance: balance, durationHours: durationHours || 168 };
    
    // Reset modal
    document.getElementById('discount-code').value = '';
    document.getElementById('discount-msg').style.display = 'none';
    
    // Update modal content
    document.getElementById('modal-package-name').textContent = packageName;
    document.getElementById('modal-price').textContent = price.toLocaleString('vi-VN') + ' đ';
    document.getElementById('modal-discount').textContent = '0 đ';
    document.getElementById('modal-total').textContent = price.toLocaleString('vi-VN') + ' đ';
    
    // Check balance
    if (balance < price) {
        document.getElementById('balance-warning').style.display = 'block';
        document.getElementById('confirm-buy-btn').disabled = true;
        document.getElementById('confirm-buy-btn').style.opacity = '0.5';
    } else {
        document.getElementById('balance-warning').style.display = 'none';
        document.getElementById('confirm-buy-btn').disabled = false;
        document.getElementById('confirm-buy-btn').style.opacity = '1';
    }
    
    // Show modal
    document.getElementById('buy-key-modal').classList.add('show');
}

function closeBuyModal() {
    document.getElementById('buy-key-modal').classList.remove('show');
    currentPackage = null;
}

function applyDiscountCode() {
    if (!currentPackage) return;
    
    const code = document.getElementById('discount-code').value.toUpperCase().trim();
    const msgEl = document.getElementById('discount-msg');
    
    if (!code) {
        msgEl.textContent = '⚠️ Vui lòng nhập mã giảm giá';
        msgEl.style.color = '#fbbf24';
        msgEl.style.display = 'block';
        return;
    }
    
    if (!validCodes[code]) {
        msgEl.textContent = '❌ Mã giảm giá không hợp lệ';
        msgEl.style.color = '#ef4444';
        msgEl.style.display = 'block';
        return;
    }
    
    const discountPercent = validCodes[code].discount;
    const discountAmount = Math.floor(currentPackage.price * discountPercent);
    const total = currentPackage.price - discountAmount;
    
    // Update display
    document.getElementById('modal-discount').textContent = discountAmount.toLocaleString('vi-VN') + ' đ';
    document.getElementById('modal-total').textContent = total.toLocaleString('vi-VN') + ' đ';
    
    msgEl.textContent = `✓ Đã áp dụng giảm giá ${(discountPercent * 100).toFixed(0)}%`;
    msgEl.style.color = '#10b981';
    msgEl.style.display = 'block';
    
    // Store discount in currentPackage
    currentPackage.appliedDiscount = discountAmount;
    currentPackage.total = total;
    
    // Update balance check
    if (currentPackage.balance < total) {
        document.getElementById('balance-warning').style.display = 'block';
        document.getElementById('confirm-buy-btn').disabled = true;
        document.getElementById('confirm-buy-btn').style.opacity = '0.5';
    } else {
        document.getElementById('balance-warning').style.display = 'none';
        document.getElementById('confirm-buy-btn').disabled = false;
        document.getElementById('confirm-buy-btn').style.opacity = '1';
    }
}

function confirmPurchase() {
    if (!currentPackage) return;
    
    const finalPrice = currentPackage.total || currentPackage.price;
    
    if (currentPackage.balance < finalPrice) {
        Toast.error('Lỗi', 'Số dư không đủ để mua gói này!');
        return;
    }
    
    const confirmBtn = document.getElementById('confirm-buy-btn');
    if (!confirmBtn) {
        Toast.error('Lỗi', 'Không thể tìm thấy nút xác nhận');
        return;
    }
    confirmBtn.disabled = true;
    confirmBtn.textContent = 'Đang xử lý...';
    
    showPageLoading();
    
    fetch('api_purchase_key.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        credentials: 'same-origin',
        body: JSON.stringify({
            package_id: currentPackage.id
        })
    })
    .then(response => response.text())
    .then(text => {
        hidePageLoading();
        const currentBtn = document.getElementById('confirm-buy-btn');
        if (currentBtn) {
            currentBtn.disabled = false;
            currentBtn.textContent = 'Mua ngay';
        }
        
        const purchasedPackage = currentPackage ? {...currentPackage} : null;
        
        let data;
        try {
            data = JSON.parse(text);
        } catch (e) {
            console.error('JSON parse error:', e, 'Response:', text);
            closeBuyModal();
            Toast.error('Lỗi', 'Phản hồi không hợp lệ từ server');
            return;
        }
        
        closeBuyModal();
        
        if (data.success) {
            const packageName = purchasedPackage ? purchasedPackage.name : 'Premium';
            const keyInfo = document.createElement('div');
            keyInfo.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); border: 2px solid #10b981; border-radius: 20px; padding: 32px; z-index: 10000; box-shadow: 0 30px 80px rgba(16, 185, 129, 0.4); max-width: 90%; width: 500px;';
            keyInfo.innerHTML = `
                <div style="text-align: center; margin-bottom: 24px;">
                    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                        </svg>
                    </div>
                    <h2 style="color: white; font-size: 24px; margin: 0 0 8px 0;">Mua gói thành công!</h2>
                    <p style="color: #94a3b8; font-size: 14px; margin: 0;">Gói ${packageName}</p>
                </div>
                <div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                    <div style="text-align: center; margin-bottom: 8px; color: #10b981; font-size: 12px; font-weight: 600;">MÃ KEY CỦA BẠN</div>
                    <div style="background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; text-align: center; color: white; font-family: 'Courier New', monospace; font-size: 18px; font-weight: 700; letter-spacing: 2px;">${data.key_code}</div>
                    <button onclick="navigator.clipboard.writeText('${data.key_code}').then(() => Toast.success('Đã sao chép!', 'Mã key đã được sao chép'))" style="width: 100%; margin-top: 12px; background: #10b981; border: none; color: white; padding: 10px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px;">Sao chép mã</button>
                </div>
                <div style="color: #94a3b8; font-size: 13px; line-height: 1.6; margin-bottom: 20px;">
                    <p style="margin: 0 0 8px 0;">✓ Hạn sử dụng: ${new Date(data.expires_at).toLocaleDateString('vi-VN')}</p>
                    <p style="margin: 0 0 8px 0;">✓ Số dư còn lại: ${parseInt(data.new_balance).toLocaleString('vi-VN')} đ</p>
                </div>
                <button onclick="this.parentElement.remove(); location.reload();" style="width: 100%; background: linear-gradient(135deg, #6366f1, #8b5cf6); border: none; color: white; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px;">Đóng</button>
            `;
            document.body.appendChild(keyInfo);
            
            setTimeout(() => {
                location.reload();
            }, 10000);
        } else {
            Toast.error('Lỗi', data.message || 'Không thể mua gói');
        }
    })
    .catch(error => {
        hidePageLoading();
        const btn = document.getElementById('confirm-buy-btn');
        if (btn) {
            btn.disabled = false;
            btn.textContent = 'Mua ngay';
        }
        closeBuyModal();
        console.error('Error purchasing:', error);
        Toast.error('Lỗi', 'Lỗi kết nối. Vui lòng thử lại!');
    });
}

// Add styles for modal animation
const style = document.createElement('style');
style.textContent = `
    @keyframes slideUp {
        from { transform: translateY(40px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    #buy-key-modal { display: none !important; }
    #buy-key-modal.show { display: flex !important; }
`;
document.head.appendChild(style);
</script>

    </div>

    <!-- Footer Information -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3 class="footer-title">CÔNG TY CÔNG NGHỆ CuTools</h3>
                <div class="footer-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    <span>2862 Larimer St, Denver, Colorado 80205, USA</span>
                </div>
                <div class="footer-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <a href="/cdn-cgi/l/email-protection#cba2a5ada48b88be9fa4a4a7b8e5a7a4a7"><span class="__cf_email__" data-cfemail="7c15121a133c3f09281313100f52101310">[email&#160;protected]</span></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3 class="footer-title">LIÊN HỆ</h3>
                <div class="footer-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <a href="/cdn-cgi/l/email-protection#99f0f7fff6d9daeccdf6f6f5eab7f5f6f5"><span class="__cf_email__" data-cfemail="bdd4d3dbd2fdfec8e9d2d2d1ce93d1d2d1">[email&#160;protected]</span></a>
                </div>
                <div class="footer-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <a href="tel:0382453807">0382453807</a>
                </div>
                <div class="footer-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
                    </svg>
                    <a href="https://t.me/mryanhdz" target="_blank">Telegram Admin</a>
                </div>
            </div>
        </div>
        
        <div class="footer-links">
            <a href="?page=about">Về chúng tôi</a>
            <span>•</span>
            <a href="?page=tos">Điều khoản sử dụng</a>
            <span>•</span>
            <a href="?page=privacy">Chính sách bảo mật</a>
            <span>•</span>
            <a href="?page=support">Hỗ trợ</a>
        </div>
        
        <div class="footer-copyright">
            Copyright © 2025 CuTools.lol
        </div>
    </footer>

        <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="?page=home" class="nav-item ">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>Trang chủ</span>
        </a>
        <a href="?page=keymanager" class="nav-item ">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3h18v18H3zM9 3v18"></path>
                <path d="M9 9h12M9 15h12"></path>
            </svg>
            <span>Quản lý</span>
        </a>
        <div class="nav-item nav-balance">
                        <div class="key-badge key-none">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                </svg>
                <span>None</span>
            </div>
        </div>
        <a href="?page=deposit" class="nav-item ">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
            </svg>
            <span>Nạp tiền</span>
        </a>
        <a href="?page=profile" class="nav-item ">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Thông tin</span>
        </a>
    </nav>
    
    <!-- Loading Overlay -->
    <div id="page-loading-overlay" class="page-loading-overlay">
        <div class="loading-spinner-container">
            <div class="loading-spinner">
                <svg class="spinner-ring" viewBox="0 0 50 50">
                    <circle class="spinner-path" cx="25" cy="25" r="20" fill="none" stroke-width="4"></circle>
                </svg>
            </div>
            <div class="loading-text">Đang tải...</div>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="toast-container"></div>

        <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="serve_static.php?file=script.js&v=1764979622"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ab54b576cb5ff85',t:'MTc2NTI5MTYxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9ab54b576cb5ff85","version":"2025.9.1","r":1,"token":"c30428b3c9a143e99de5726a2a58f33e","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}}}' crossorigin="anonymous"></script>
</body>
</html>